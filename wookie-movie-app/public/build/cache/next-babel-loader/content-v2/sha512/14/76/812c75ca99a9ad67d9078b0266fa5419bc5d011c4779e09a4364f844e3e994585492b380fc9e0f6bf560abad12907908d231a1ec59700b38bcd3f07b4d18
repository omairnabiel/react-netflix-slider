{"ast":null,"code":"import React, { useEffect } from \"react\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { useRouter } from \"next/router\"; //  components\n\nimport Poster from \"../../components/poster/Poster\";\nimport Loader from \"../../components/loader/Loader\";\nimport MovieDetail from \"../../components/movie-detail/MovieDetail\"; // state atoms\n\nimport { selectedMovie } from \"../../state/atoms/movie\";\nimport { moviesState } from \"../../state/atoms/movie\";\nexport default function Detail() {\n  const [movie, setMovie] = useRecoilState(selectedMovie);\n  const movies = useRecoilValue(moviesState);\n  const router = useRouter();\n  /**\n   * In useEffect as searchBar has already made an api request to get movies, we listen on movies data\n   */\n\n  useEffect(() => {\n    if (!movie.data && movies.data) {\n      setMovie({\n        data: movies.data.find(m => m.id === router.query.id),\n        loading: false,\n        error: undefined\n      });\n    }\n  }, [movies.data]);\n  return movie.data ? /*#__PURE__*/React.createElement(\"figure\", {\n    className: \"md:flex bg-gray-600 rounded-xl p-8 md:p-0 shadow-xl ml-5 mr-5\"\n  }, /*#__PURE__*/React.createElement(Poster, {\n    url: movie.data.poster\n  }), /*#__PURE__*/React.createElement(MovieDetail, {\n    movie: movie.data\n  })) : /*#__PURE__*/React.createElement(Loader, null);\n}","map":null,"metadata":{},"sourceType":"module"}